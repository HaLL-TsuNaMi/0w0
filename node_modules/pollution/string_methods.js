const utility = require("./utility")

const trimIndent = function() {
	const firstStep = this.drop()
	const indentLevel = firstStep.search(/[^\t]/)
	return firstStep.split("\n").map((l) => l.substr(indentLevel)).join("\n").dropRight()
}

const drop = function(fromFirst = 1) {
	return this.substr(fromFirst)
}
const dropRight = function(fromLastIndex = 1) {
	return this.substr(0, this.length - fromLastIndex)
}

const stringMethods = {}
stringMethods.define("drop", drop)
stringMethods.define("dropRight", dropRight)
stringMethods.define("trimIndent", trimIndent)

utility.setMethodPairs(stringMethods, String.prototype)
Object.freeze(String.prototype)
